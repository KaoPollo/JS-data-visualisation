(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))w(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&w(h)}).observe(document,{childList:!0,subtree:!0});function l(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function w(n){if(n.ep)return;n.ep=!0;const o=l(n);fetch(n.href,o)}})();function p(){for(var r="0123456789ABCDEF",t="#",l=0;l<6;l++)t+=r[Math.floor(Math.random()*16)];return t}let T=document.getElementById("firstHeading"),m=document.getElementById("table1"),y=document.getElementById("table2"),M=document.createElement("canvas"),v=document.createElement("canvas");v.setAttribute("height","300");let L=document.createElement("canvas");m.parentNode.insertBefore(v,m);y.parentNode.insertBefore(L,y);function S(r,t){r.parentNode.insertBefore(t,r.nextSibling)}S(T,M);var i=[],a=[],f=[];function x(){const r=new XMLHttpRequest;r.onload=function(){if(this.status==200){i=JSON.parse(this.response);for(var t=0;t<i.length;t++)a.push(i[t][1]),f.push(i[t][0])}else alert("Error loading the data :-(");C()},r.open("GET","https://canvasjs.com/services/data/datapoints.php",!0),r.send()}var g=9;function C(){g++;const r=new XMLHttpRequest;r.onload=function(){if(this.status==200){console.log("ok");let t=JSON.parse(this.response);f.shift(),f.push(g),console.log(a),a.shift(),console.log(a),a.push(t[0][1]),console.log(t[0][1]),console.log(a),A.update("resize"),setTimeout(C,1e3)}},r.open("GET","https://canvasjs.com/services/data/datapoints.php?xstart="+g+"&ystart=10&length=1&type=json",!0),r.send()}x();const A=new Chart(M,{type:"line",data:{labels:f,datasets:[{label:"Crimes Statistics In Europe",data:a,borderColor:p(),borderWidth:4}]},options:{responsive:!0,indexAxis:"x"}});let d=m.querySelector("tbody"),E=d.querySelectorAll("tr"),b=E[0].querySelectorAll("th"),H=[],_=[];for(var e=2;e<b.length;e++)_[e-2]=b[e].innerHTML;console.log(_);for(var e=0;e<E.length;e++){let t={label:d.rows[e].cells[1].innerHTML,data:[],borderColor:p(),borderWidth:3};for(var c=2;c<b.length;c++){var q=parseFloat(d.rows[e].cells[c].innerHTML.replace(",","."));isNaN(q)?t.data.push():t.data.push(parseFloat(d.rows[e].cells[c].innerHTML.replace(",",".")))}H.push(t)}new Chart(v,{type:"line",data:{labels:_,datasets:H},options:{scales:{y:{beginAtZero:!1,type:"logarithmic"}}}});var s=y.querySelector("tbody");for(var e=0;e<s.rows.length;e++)s.rows[e].cells[1].innerHTML.replace(/( +)/gm," ").replace(/(\r\n|\n|\r|<br>)/gm,"");for(var e=0;e<s.rows.length;e++)s.rows[e].cells[2].innerHTML;for(var e=0;e<s.rows.length;e++)s.rows[e].cells[3].innerHTML;var u=[];for(var e=0;e<s.rows.length;e++)u.push({country:s.rows[e].cells[1].innerHTML.replace(/( +)/gm," ").replace(/(\r\n|\n|\r|<br>)/gm,""),data_1:s.rows[e].cells[2].innerHTML,data_2:s.rows[e].cells[3].innerHTML});new Chart(L,{type:"bar",data:{labels:u.map(function(r){return r.country}),datasets:[{label:"2007-2009",data:u.map(function(r){return r.data_1}),backgroundColor:p()},{label:"2010-2012",data:u.map(function(r){return r.data_2}),backgroundColor:p()}]},options:{responsive:!0,scales:{yS:{beginAtZero:!0}}}});
